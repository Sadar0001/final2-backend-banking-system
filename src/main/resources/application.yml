spring:
  application:
    name: banksystem

  datasource:
    url: jdbc:mysql://mysql-13116c6c-banking-system-database.e.aivencloud.com:17788/defaultdb?sslMode=REQUIRED
    username: avnadmin
    # Use environment variables for production security
    password: ${DB_PASSWORD}
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    # Forces Spring to wait for Hibernate to finish before running data.sql
    defer-datasource-initialization: true
    show-sql: true
    open-in-view: false
    hibernate:
      # 'update' is safer for cloud DBs; igit add src/main/resources/application.ymlt creates tables if missing but won't crash on 'drop' errors
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
        format_sql: true

  sql:
    init:
      # 'always' ensures your big dataset is checked on every restart
      mode: always
      data-locations: classpath:data.sql
      # Critical: If a row already exists, it skips and continues rather than crashing
      continue-on-error: true

  cache:
    type: simple

# Custom property for your React Frontend connection
app:
  frontend:
    url: ${FRONTEND_URL:http://localhost:5173}

# Server configuration for Render deployment
server:
  port: ${PORT:8080}